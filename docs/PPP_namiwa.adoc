= Khairul Iman - Project Portfolio
:site-section: AboutUs
:imagesDir: images
:stylesDir: ../stylesheets
:repoURL: https://github.com/AY1920S1-CS2113T-F10-1

== PROJECT: ModPlan v1.3

== Overview

ModPlanner is a command line interface application written in Java. It aims to help Computer Engineering students plan their modules throughout their entire university tenure.

This was done in apart to learn the basic concepts of software engineering in a non-trivial project, consisting of about 5KSoC. We chose to morph the existing Duke personal assistant into our ModPlanner application.

This document details my overall contribution to the project. The code repository is maintained using {repoURL}/main[GitHub.]

== Feature contribution

* Implemented persistent module data during runtime
** The implementation of this feature involves using NUSMODS API requests and GSON's JSON parsing to reliably request module data and to store it locally.
** This is done so that the user would be able to immediately know if the module exists before adding, and efficiently keep track of the module data.
** The user would also be able to independently update their module data anytime to any available year based on NUSMODS API so that they have the flexibility of having the most up to date module information at all times.
** This forms the backbone of our application, since without up-to-date module data, we would not be able to efficiently manage the user's module queries.

* Implemented persistent data storage
** Through the `Storage` and `Logger` classes, user's current data would be instantly stored in JSON file format. This process is done automatically without
needing the user to be aware of the process.

== Summary of contributions

* *Feature Enhancement*:
    ** Managed feature support for persistent data storage
    ** Added integration for NUSMODS API Requests, for obtaining current NUS module data information
    ** Added integration for Google's GSON library, for efficient JSON data parsing
        *** Implemented framework for processing JSON data returned by NUSMODS API
    ** Implemented framework to unit test user inputs directly https://github.com/AY1920S1-CS2113T-F10-1/main/issues/124[#124]
* *Code contributed*:
    ** Package https://github.com/AY1920S1-CS2113T-F10-1/main/tree/master/src/main/java/planner/util/crawler[WebCrawler] and https://github.com/AY1920S1-CS2113T-F10-1/main/tree/master/src/main/java/planner/util/logger[Logger] for file storage
    ** Package https://github.com/AY1920S1-CS2113T-F10-1/main/tree/master/src/main/java/planner/logic/modules/module[Modules] for mapping module data to Java Object during run time

* *Other contributions*:
    ** Added support for Gradle build automation, to ensuring ease of project builds
    ** Added support for TravisCI, for continuous integration
    ** Added support for Coveralls, for efficient tracking of code coverage

* Project management:
    ** Managed releases `mid-v1.1`, `v1.1` and `v1.2.1`
    ** Handled team issue tracking regarding:
        *** Improvements to implemented features
        *** General bug reporting
        *** Patch releases to fix to discovered bugs
* Documentation:
    *** Added UML Diagrams for overall product design in Developer Guide

* Community:
    ** Requested permission to utilize NUSMODS API in the course forum https://github.com/nusCS2113-AY1920S1/forum/issues/53[#53]
* Tools:
*** Integrated a third party library (Natty) to the project, for improved date parsing
*** Integrated Github plugins (TravisCI and Coveralls) to the team repository

== Contributions to the User Guide

_The following has been extracted from the User's Guide_

== Contributions to the Developer Guide

_The following has been extracted from the Developer's Guide_

=== JsonWrapper

==== Current implementation

`JsonWrapper` contains our usage of the `Gson` library for JSON file processing, as well as to call `RequestsData` to obtained the module data consolidated by `NUSMODS API`.

image::PackageCrawler.png[]

To prevent multiple requests to NUSMODS, our implementation would check if the user has previously downloaded the module data before. If they have not, only then would `JsonWrapper` call `RequestsData` to initialize the module data file.

The sequence diagram of this implementation is shown below:

image::JsonWrapperSequenceDiag.png[]

The above function is done in the `CliLauncher` class, during the setup function call.

Since `Gson` is able to internally read a JSON file and when given the same template within a Java object class, it would be able to map the value fields to each of the same keys in the Java Object.

This allows the application to have a direct access to all the modules which are currently offered in NUS, by reading the returned JSON string and parsing it directly into a list of Module information. Since the data had to be modelled, the
following ModuleInfoDetailed and ModuleInfoSummary was created to capture the data in the JSON file to be used during runtime.

image::PackageModule.png[]

Since some modules may not contain data for every field, each of the module classes above are required to have default values on initialisation so as to prevent `NullPointerExceptions` during runtime when such module data is accessed.

image::ModuleInfoDetailed.png[]

This also extends to choosing the right data type for modelling our module information, since certain fields maybe malformed and thus our implementation of the fields data type in module information classes would mostly contain `strings`, unless it is certain that
the data type found in the returned JSON string is strictly `boolean` or `double`.

To allow for quick access to the module information classes, after parsing module information into a list of `ModuleInfoDetailed`, it would then be converted into a `HashMap`, where the key-value pair
is the string containing the module code, and the value is the `ModuleInfoDetailed`. This is what is exposed to all the command classes during runtime, and this is done automatically on startup so that the module
data is accessible directly to the user. This functionality is handled by

==== RequestsData

Internally, this class is responsible for requesting data from the `NUSMODS API` and thus uses Java's Native `HTTPRequest` Library.

image::FutureRequests.png[]

The current implementation is fixed to only request data for the current academic year, but this is subject to change in the coming versions to allow for users to choose to update the data once it gets outdated.

The remove further dependency on the Internet for making API calls to NUSMODS, in future this implementation would be modified to use provided the data in the JAR resources.

For the proposed implementation of updating user data, there are a few alternatives which could be considered:

****
* Alternative 1: There would be a prompt for the user on startup to check if they wish to update their module data. If the user decides to do so, they enter `yes` and it would be updated.
** Since this may be distracting for users on every startup, once they user entered `no`, it would no longer prompt for the data update.
** This implementation requires our application to remember user settings preferences which can be added as an additional feature.

* Alternative 2: Automatic prompting, where the initial startup date is recorded, and would be mapped to a particular semester.
** Once the semester has been completed, it would prompt the user to update the data. Since this requires and internet connection, this prompt is necessary.

****





